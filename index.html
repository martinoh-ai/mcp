<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Masia Can Pares | Luxury Guest Houses near Barcelona & Sitges</title>
    <meta name="description" content="Masia Can Pares offers two stunning guest houses set within a 20,000m² botanical garden near Sitges. A hidden paradise for families, retreats, artists and film productions.">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Space+Mono:wght@400;700&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="https://images.squarespace-cdn.com/content/v1/66d829452bae803f6b32068e/8fb7c7fc-6e43-406c-b1c0-a65a59062cf6/CanPares_2-01.png?format=100w">
    
    <style>
        @font-face {
            font-family: 'Boogy Brut Poster';
            src: url('fonts/BoogyBrutPoster-White.otf') format('opentype');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }

        :root {
            --color-cream: #F5F0E1;
            --color-mauve: #A07A7E;
            --color-mustard: #E9B84A;
            --color-sage: #2D4A3E;
            --color-terracotta: #A65D57;
            --color-charcoal: #722F37;
            --color-text: #2C2825;
            --color-text-light: #6B635A;
            
            --font-display: 'Boogy Brut Poster', 'Space Grotesk', sans-serif;
            --font-mono: 'Space Mono', monospace;
            --font-body: 'DM Sans', sans-serif;
        }

        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { font-family: var(--font-body); background: var(--color-cream); color: var(--color-text); line-height: 1.7; font-weight: 300; }
        img { max-width: 100%; height: auto; display: block; }
        a { color: inherit; text-decoration: none; }
        
        h1 { font-family: var(--font-display); font-weight: 700; text-transform: uppercase; letter-spacing: -0.02em; }
        h2 { font-family: var(--font-mono); font-weight: 400; text-transform: uppercase; letter-spacing: 0.1em; font-size: 0.8rem; }
        h3 { font-family: var(--font-display); font-weight: 600; }
        
        .container { max-width: 1400px; margin: 0 auto; padding: 0 clamp(24px, 5vw, 60px); }

        /* Header */
        .header { position: fixed; top: 0; left: 0; right: 0; z-index: 1000; padding: 12px 0; background: var(--color-cream); border-bottom: 1px solid rgba(0,0,0,0.08); }
        .header__inner { display: flex; justify-content: space-between; align-items: center; }
        .header__logo img { height: 45px; width: auto; }
        
        .header__right { display: flex; align-items: center; gap: 20px; }
        .header__link { font-family: var(--font-mono); font-size: 0.7rem; letter-spacing: 0.12em; text-transform: uppercase; }
        .header__lang { font-family: var(--font-mono); font-size: 0.7rem; letter-spacing: 0.1em; text-transform: uppercase; display: flex; align-items: center; gap: 4px; }
        .header__lang svg { width: 12px; height: 12px; }
        .header__btn { padding: 12px 22px; font-family: var(--font-mono); font-size: 0.7rem; letter-spacing: 0.1em; text-transform: uppercase; }
        .header__btn--outline { border: 1.5px solid var(--color-charcoal); background: transparent; color: var(--color-charcoal); }
        .header__btn--filled { background: var(--color-charcoal); color: white; border: 1.5px solid var(--color-charcoal); }

        /* Mobile Menu Button */
        .header__menu-btn { display: none; width: 44px; height: 44px; background: none; border: none; cursor: pointer; position: relative; z-index: 1001; }
        .header__menu-btn span { display: block; width: 22px; height: 2px; background: var(--color-charcoal); margin: 5px auto; transition: all 0.3s ease; }
        .header__menu-btn.active span:nth-child(1) { transform: rotate(45deg) translate(5px, 5px); }
        .header__menu-btn.active span:nth-child(2) { opacity: 0; }
        .header__menu-btn.active span:nth-child(3) { transform: rotate(-45deg) translate(5px, -5px); }

        /* Mobile Menu Overlay */
        .mobile-menu { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: var(--color-cream); z-index: 999; display: flex; flex-direction: column; justify-content: center; align-items: center; opacity: 0; visibility: hidden; transition: all 0.4s ease; }
        .mobile-menu.active { opacity: 1; visibility: visible; }
        .mobile-menu__nav { text-align: center; margin-bottom: 40px; }
        .mobile-menu__link { display: block; font-family: var(--font-display); font-size: 2rem; text-transform: uppercase; padding: 15px 0; color: var(--color-charcoal); transition: color 0.3s ease; }
        .mobile-menu__link:hover { color: var(--color-terracotta); }
        .mobile-menu__actions { display: flex; flex-direction: column; gap: 15px; align-items: center; }
        .mobile-menu__btn { padding: 16px 40px; font-family: var(--font-mono); font-size: 0.75rem; letter-spacing: 0.1em; text-transform: uppercase; }
        .mobile-menu__btn--primary { background: var(--color-charcoal); color: white; }
        .mobile-menu__btn--secondary { border: 1.5px solid var(--color-charcoal); background: transparent; }
        .mobile-menu__lang { display: flex; gap: 20px; margin-top: 30px; }
        .mobile-menu__lang a { font-family: var(--font-mono); font-size: 0.8rem; letter-spacing: 0.1em; opacity: 0.5; }
        .mobile-menu__lang a.active { opacity: 1; }

        /* Secondary Nav */
        .section-nav { position: sticky; top: 69px; z-index: 998; background: var(--color-mustard); height: 50px; }
        .section-nav__inner { display: flex; justify-content: center; height: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; scrollbar-width: none; -ms-overflow-style: none; }
        .section-nav__inner::-webkit-scrollbar { display: none; }
        .section-nav__links { display: flex; list-style: none; margin: 0; padding: 0; height: 100%; }
        .section-nav__links li { display: flex; height: 100%; }
        .section-nav__link { display: flex; align-items: center; justify-content: center; padding: 0 35px; height: 100%; font-family: var(--font-mono); font-size: 0.75rem; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: white; white-space: nowrap; }
        .section-nav__link:hover { background: rgba(255,255,255,0.1); }
        .section-nav__link.active { background: rgba(255,255,255,0.15); }

        /* Floating CTA Button */
        .floating-cta { position: fixed; bottom: 0; left: 0; right: 0; z-index: 997; padding: 15px 20px; background: white; box-shadow: 0 -4px 20px rgba(0,0,0,0.1); display: none; }
        .floating-cta__btn { display: block; width: 100%; padding: 16px; font-family: var(--font-mono); font-size: 0.8rem; letter-spacing: 0.1em; text-transform: uppercase; font-weight: 700; background: var(--color-charcoal); color: white; text-align: center; transition: background 0.3s ease; }
        .floating-cta__btn:hover { background: var(--color-terracotta); }

        /* Hero */
        .hero { min-height: 100vh; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; background: var(--color-charcoal); padding-top: 69px; }
        .hero__bg { position: absolute; inset: 0; z-index: 0; }
        .hero__slide { position: absolute; inset: 0; opacity: 0; transition: opacity 1.5s ease-in-out; }
        .hero__slide.active { opacity: 1; }
        .hero__slide img { width: 100%; height: 100%; object-fit: cover; }
        .hero__overlay { position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(0,0,0,0.35) 0%, rgba(0,0,0,0.55) 100%); }
        .hero__content { position: relative; z-index: 2; text-align: center; padding: 60px; }
        .hero__overline { font-family: var(--font-mono); font-size: 0.8rem; letter-spacing: 0.25em; text-transform: uppercase; color: rgba(255,255,255,0.85); margin-bottom: 20px; }
        .hero__logo { max-width: 450px; width: 80%; height: auto; margin: 0 auto 30px; display: block; filter: brightness(0) invert(1); }
        .hero__subtitle { font-size: 1.15rem; color: rgba(255,255,255,0.9); max-width: 500px; margin: 0 auto 40px; line-height: 1.8; }
        .hero__ctas { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
        .hero__btn { padding: 18px 40px; font-family: var(--font-mono); font-size: 0.75rem; letter-spacing: 0.1em; text-transform: uppercase; font-weight: 700; }
        .hero__btn--primary { background: var(--color-charcoal); color: white; }
        .hero__btn--secondary { background: transparent; color: white; border: 2px solid white; }

        /* Story Section - 3 Column Layout */
        .story { padding: 100px 0; background: var(--color-cream); }
        .story__grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 40px; }
        .story__col { display: flex; flex-direction: column; }
        .story__col--left h2 { font-family: var(--font-display); font-size: clamp(1.8rem, 3vw, 2.4rem); font-weight: 400; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 30px; line-height: 1.2; }
        .story__col--left p { font-size: 1rem; line-height: 1.9; color: var(--color-text); margin-bottom: 30px; }
        .story__col--left .story__image { margin-top: auto; }
        .story__col--left .story__image img { width: 100%; height: 350px; object-fit: cover; }
        .story__col--center .story__image { height: 100%; }
        .story__col--center .story__image img { width: 100%; height: 100%; min-height: 500px; object-fit: cover; }
        .story__col--right { padding-top: 20px; }
        .story__col--right p { font-size: 1rem; line-height: 1.9; color: var(--color-text); margin-bottom: 30px; }
        .story__col--right .story__image { margin-bottom: 25px; }
        .story__col--right .story__image img { width: 100%; height: 280px; object-fit: cover; }
        .story__link { font-family: var(--font-mono); font-size: 0.75rem; letter-spacing: 0.1em; text-transform: uppercase; display: inline-flex; align-items: center; gap: 10px; }
        .story__link svg { width: 16px; height: 16px; }

        /* Houses Section - Cream */
        .houses { padding: 120px 0; background: var(--color-cream); }
        .houses__header { text-align: center; margin-bottom: 80px; }
        .houses__header h2 { color: var(--color-terracotta); margin-bottom: 15px; }
        .houses__header h3 { font-size: clamp(2.2rem, 4vw, 3.2rem); margin-bottom: 25px; }
        .houses__intro { font-size: 1.1rem; color: var(--color-text-light); max-width: 650px; margin: 0 auto; line-height: 1.8; }
        .houses__grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; }
        .house-card { position: relative; overflow: hidden; background: white; }
        .house-card__image { height: 400px; overflow: hidden; }
        .house-card__image img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s; }
        .house-card:hover .house-card__image img { transform: scale(1.05); }
        .house-card__content { padding: 40px; }
        .house-card__name { font-size: 1.8rem; margin-bottom: 15px; }
        .house-card__desc { font-size: 0.95rem; color: var(--color-text-light); margin-bottom: 25px; line-height: 1.7; }
        .house-card__stats { display: flex; gap: 30px; margin-bottom: 25px; }
        .house-card__stat { text-align: center; }
        .house-card__stat-value { font-family: var(--font-display); font-size: 2rem; font-weight: 700; color: var(--color-terracotta); }
        .house-card__stat-label { font-family: var(--font-mono); font-size: 0.55rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--color-text-light); }
        .house-card__btn { display: inline-flex; align-items: center; gap: 10px; font-family: var(--font-mono); font-size: 0.65rem; letter-spacing: 0.1em; text-transform: uppercase; font-weight: 700; color: var(--color-charcoal); border-bottom: 2px solid var(--color-charcoal); padding-bottom: 8px; }

        /* Designed For Section - Mustard */
        .designed-for { padding: 120px 0; background: var(--color-mustard); }
        .designed-for__header { text-align: center; margin-bottom: 60px; }
        .designed-for__header h2 { color: var(--color-charcoal); margin-bottom: 15px; }
        .designed-for__header h3 { font-size: clamp(2.2rem, 4vw, 3.2rem); }
        .designed-for__grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 20px; }
        .use-card { background: white; padding: 35px 25px; text-align: center; transition: transform 0.3s; }
        .use-card:hover { transform: translateY(-8px); }
        .use-card__icon { width: 50px; height: 50px; margin: 0 auto 20px; background: var(--color-cream); border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .use-card__icon svg { width: 24px; height: 24px; color: var(--color-charcoal); }
        .use-card__title { font-family: var(--font-display); font-size: 1.1rem; font-weight: 600; margin-bottom: 10px; }
        .use-card__desc { font-size: 0.85rem; color: var(--color-text-light); line-height: 1.6; }

        /* Founders Section - Sage */
        .founders { padding: 120px 0; background: var(--color-sage); color: white; }
        .founders__grid { display: grid; grid-template-columns: 1fr 1fr; gap: 80px; align-items: center; }
        .founders__image img { width: 100%; height: 500px; object-fit: cover; }
        .founders__content h2 { color: var(--color-mustard); margin-bottom: 15px; }
        .founders__content h3 { font-size: clamp(2rem, 4vw, 2.8rem); margin-bottom: 30px; }
        .founders__text { font-size: 1.05rem; line-height: 1.9; opacity: 0.9; margin-bottom: 15px; }

        /* CTA */
        .cta { padding: 120px 0; background: var(--color-charcoal); color: white; text-align: center; }
        .cta h2 { color: var(--color-mustard); margin-bottom: 15px; }
        .cta h3 { font-size: clamp(2.2rem, 4vw, 3.5rem); margin-bottom: 25px; }
        .cta p { opacity: 0.7; max-width: 500px; margin: 0 auto 50px; }
        .cta__btn { display: inline-block; padding: 20px 55px; font-family: var(--font-mono); font-size: 0.7rem; letter-spacing: 0.12em; text-transform: uppercase; background: var(--color-mustard); color: var(--color-charcoal); font-weight: 700; cursor: pointer; border: none; text-decoration: none; }
        .cta__btn:hover { background: #d4a73d; }

        /* Booking Modal */
        .booking-modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 10000; align-items: center; justify-content: center; padding: 20px; }
        .booking-modal.active { display: flex; }
        .booking-modal__content { background: white; width: 100%; max-width: 900px; height: 90vh; max-height: 700px; border-radius: 12px; overflow: hidden; position: relative; display: flex; flex-direction: column; }
        .booking-modal__header { display: flex; align-items: center; justify-content: space-between; padding: 20px 25px; background: var(--color-charcoal); color: white; }
        .booking-modal__title { font-family: var(--font-display); font-size: 1.2rem; font-weight: 600; }
        .booking-modal__close { background: none; border: none; color: white; font-size: 28px; cursor: pointer; padding: 0; line-height: 1; opacity: 0.7; transition: opacity 0.3s; }
        .booking-modal__close:hover { opacity: 1; }
        .booking-modal__tabs { display: flex; background: var(--color-cream); }
        .booking-modal__tab { flex: 1; padding: 15px; font-family: var(--font-mono); font-size: 0.7rem; letter-spacing: 0.08em; text-transform: uppercase; text-align: center; background: none; border: none; cursor: pointer; color: var(--color-text-light); transition: all 0.3s; border-bottom: 3px solid transparent; }
        .booking-modal__tab:hover { color: var(--color-charcoal); }
        .booking-modal__tab.active { color: var(--color-charcoal); background: white; border-bottom-color: var(--color-mustard); }
        .booking-modal__body { flex: 1; overflow: hidden; }
        .booking-modal__iframe { width: 100%; height: 100%; border: none; }
        .booking-modal__loading { display: flex; align-items: center; justify-content: center; height: 100%; color: var(--color-text-light); }

        @media (max-width: 768px) {
            .booking-modal__content { height: 95vh; max-height: none; border-radius: 0; }
            .booking-modal { padding: 0; }
            .booking-modal__tab { font-size: 0.6rem; padding: 12px 8px; }
        }

                /* Footer */
        .footer { background: var(--color-terracotta); color: white; padding: 60px 0 40px; }
        .footer__inner { display: flex; flex-direction: column; align-items: center; text-align: center; }
        .footer__logo { display: block; margin-bottom: 30px; }
        .footer__logo img { height: 50px; width: auto; filter: brightness(0) invert(1); }
        .footer__links { display: flex; gap: 40px; margin-bottom: 30px; }
        .footer__link { font-family: var(--font-mono); font-size: 0.75rem; letter-spacing: 0.1em; text-transform: uppercase; opacity: 0.7; transition: opacity 0.3s; }
        .footer__link:hover { opacity: 1; }
        .footer__address { font-size: 0.85rem; opacity: 0.5; }

        /* Newsletter */
        .newsletter { background: var(--color-sage); padding: 80px 0; }
        .newsletter__inner { max-width: 600px; margin: 0 auto; text-align: center; }
        .newsletter__title { font-family: var(--font-display); font-size: 2rem; font-weight: 600; color: white; margin-bottom: 15px; }
        .newsletter__text { color: rgba(255,255,255,0.7); margin-bottom: 30px; font-size: 1rem; }
        .newsletter__form { display: flex; gap: 10px; max-width: 450px; margin: 0 auto; }
        .newsletter__input { flex: 1; padding: 18px 20px; font-family: var(--font-body); font-size: 0.95rem; border: none; background: rgba(255,255,255,0.1); color: white; }
        .newsletter__input::placeholder { color: rgba(255,255,255,0.5); }
        .newsletter__input:focus { outline: none; background: rgba(255,255,255,0.15); }
        .newsletter__btn { padding: 18px 30px; font-family: var(--font-mono); font-size: 0.7rem; letter-spacing: 0.1em; text-transform: uppercase; font-weight: 700; background: var(--color-mustard); color: var(--color-charcoal); border: none; cursor: pointer; transition: background 0.3s; white-space: nowrap; }
        .newsletter__btn:hover { background: #d4a73d; }
        .newsletter__btn:disabled { opacity: 0.6; cursor: not-allowed; }
        .newsletter__success { color: var(--color-mustard); margin-top: 15px; display: none; }
        .newsletter__success.show { display: block; }
        
        @media (max-width: 600px) {
            .newsletter__form { flex-direction: column; }
            .newsletter__title { font-size: 1.5rem; }
        }

        
        @media (max-width: 1024px) {
            .story__grid { grid-template-columns: 1fr; gap: 50px; }
            .story__col--center .story__image img { min-height: 400px; }
            .houses__grid { grid-template-columns: 1fr; }
            .designed-for__grid { grid-template-columns: repeat(3, 1fr); }
            .founders__grid { grid-template-columns: 1fr; }
        }
        @media (max-width: 768px) {
            /* Header Mobile */
            .header__right { display: none; }
            .header__menu-btn { display: block; }
            
            /* Secondary Nav - Horizontal Scroll */
            .section-nav { top: 69px; }
            .section-nav__inner { justify-content: flex-start; padding: 0 20px; }
            .section-nav__link { padding: 0 18px; font-size: 0.7rem; }
            
            /* Floating CTA */
            .floating-cta { display: block; }
            body { padding-bottom: 80px; }
            
            /* Content adjustments */
            .designed-for__grid { grid-template-columns: 1fr 1fr; }
            .hero__content { padding: 30px 20px; }
            .hero__logo { max-width: 280px; }
        }
        @media (max-width: 480px) {
            .designed-for__grid { grid-template-columns: 1fr; }
            .section-nav__link { padding: 0 15px; font-size: 0.65rem; }
        }
    </style>
</head>
<body>
    <header class="header" id="header">
        <div class="container header__inner">
            <a href="index.html" class="header__logo"><img src="https://images.squarespace-cdn.com/content/v1/66d829452bae803f6b32068e/8fb7c7fc-6e43-406c-b1c0-a65a59062cf6/CanPares_2-01.png?format=500w" alt="Can Pares"></a>
            <div class="header__right">
                <a href="https://www.masiacanpares.com/contact" class="header__link">Contact Us</a>
                <a href="#" class="header__lang">EN <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></a>
                <button onclick="openBookingModal()" class="header__btn header__btn--outline" style="cursor:pointer;">Reserve a Stay</button>
                <a href="login.html" class="header__btn header__btn--filled">Sign In</a>
            </div>
            <button class="header__menu-btn" id="menuBtn" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <nav class="mobile-menu__nav">
            <a href="history.html" class="mobile-menu__link">History</a>
            <a href="gallery.html" class="mobile-menu__link">Step Inside</a>
            <a href="stay.html" class="mobile-menu__link">Stay</a>
            <a href="designed-for.html" class="mobile-menu__link">Designed For</a>
            <a href="experiences.html" class="mobile-menu__link">Experiences</a>
            <a href="location.html" class="mobile-menu__link">Location</a>
        </nav>
        <div class="mobile-menu__actions">
            <button onclick="openBookingModal(); closeMobileMenu();" class="mobile-menu__btn mobile-menu__btn--primary" style="cursor:pointer;border:none;width:100%;">Reserve a Stay</button>
            <a href="https://www.masiacanpares.com/contact" class="mobile-menu__btn mobile-menu__btn--secondary">Contact Us</a>
        </div>
        <div class="mobile-menu__lang">
            <a href="index.html" class="active">EN</a>
            <a href="index-fr.html">FR</a>
            <a href="index-es.html">ES</a>
        </div>
    </div>

    <nav class="section-nav" id="sectionNav">
        <div class="section-nav__inner">
            <ul class="section-nav__links">
                <li><a href="history.html" class="section-nav__link">History</a></li>
                <li><a href="gallery.html" class="section-nav__link">Step Inside</a></li>
                <li><a href="stay.html" class="section-nav__link">Stay</a></li>
                <li><a href="designed-for.html" class="section-nav__link">Designed For</a></li>
                
                <li><a href="experiences.html" class="section-nav__link">Experiences</a></li>
                <li><a href="location.html" class="section-nav__link">Location</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero -->
    <section class="hero">
        <div class="hero__bg">
            <div class="hero__slide active">
                <img src="https://images.squarespace-cdn.com/content/v1/66d829452bae803f6b32068e/b012d41d-ab57-414e-adb0-40ac603952c5/Masia+Can+Pares_Principal" alt="Masia Can Pares">
            </div>
            <div class="hero__slide">
                <img src="https://images.squarespace-cdn.com/content/v1/66d829452bae803f6b32068e/90d3b02c-0857-4374-8829-ed2bdda2c4a0/Can+Pares-2842.jpg" alt="Garden">
            </div>
            <div class="hero__slide">
                <img src="https://images.squarespace-cdn.com/content/v1/66d829452bae803f6b32068e/a702071a-6dff-400c-85e8-78c532c17199/MasiaCanPares_guesthouse" alt="Guest House">
            </div>
            <div class="hero__overlay"></div>
        </div>
        <div class="hero__content">
            <p class="hero__overline">Torre del Veguer · Sant Pere de Ribes</p>
            <img src="https://images.squarespace-cdn.com/content/v1/66d829452bae803f6b32068e/8fb7c7fc-6e43-406c-b1c0-a65a59062cf6/CanPares_2-01.png?format=1500w" alt="Can Pares" class="hero__logo">
            <p class="hero__subtitle">A hidden paradise within a 20,000m² botanical garden, minutes from Barcelona and the Mediterranean sea.</p>
            <div class="hero__ctas">
                <button onclick="openBookingModal()" class="hero__btn hero__btn--primary" style="cursor:pointer;border:none;">Check Availability</button>
                <a href="gallery.html" class="hero__btn hero__btn--secondary">Explore the Estate</a>
            </div>
        </div>
    </section>

    <!-- Story Section - 3 Columns -->
    <section class="story">
        <div class="container">
            <div class="story__grid">
                <div class="story__col story__col--left">
                    <h2>A Story to Live</h2>
                    <p>Set in the hills of Sant Pere de Ribes, just 10 minutes from Sitges and 35 from Barcelona, Can Pares embodies the dream of a Catalan country retreat. A fully renovated 16th-century masia, it welcomes its guests—whether families, groups of friends or teams—to stay in a unique setting, nestled in the Mediterranean landscape.</p>
                    <div class="story__image">
                        <img src="https://images.squarespace-cdn.com/content/v1/66d829452bae803f6b32068e/90d3b02c-0857-4374-8829-ed2bdda2c4a0/Can+Pares-2842.jpg" alt="Garden View">
                    </div>
                </div>
                <div class="story__col story__col--center">
                    <div class="story__image">
                        <img src="https://images.squarespace-cdn.com/content/v1/66d829452bae803f6b32068e/ce1286d7-2a38-4933-bf75-c34b7f0c9f76/Can+Pares-2699.jpg" alt="Interior Window">
                    </div>
                </div>
                <div class="story__col story__col--right">
                    <p>Over five centuries, the estate has evolved from a working agricultural farm to a hidden paradise. Today, its 20,000m² botanical garden—home to over 600 different trees—offers countless corners to discover: an 18-meter pool, sun-drenched terraces, shaded reading nooks, and fragrant herb gardens.</p>
                    <div class="story__image">
                        <img src="https://images.squarespace-cdn.com/content/v1/66d829452bae803f6b32068e/202ea870-a449-4105-a79b-86730ed55750/Can+Pares-2820.jpg" alt="Staircase">
                    </div>
                    <a href="history.html" class="story__link">Read more about the story of Can Pares <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg></a>
                </div>
            </div>
        </div>
    </section>

    <!-- Houses Section -->
    <section class="houses">
        <div class="container">
            <div class="houses__header">
                <h2>Two Unique Retreats</h2>
                <h3>Choose Your House</h3>
                <p class="houses__intro">Can Pares offers two independent guest houses, each with its own entrance, private terrace, and unique character. Both share access to the botanical garden, pool, and all estate amenities.</p>
            </div>
            <div class="houses__grid">
                <div class="house-card">
                    <div class="house-card__image">
                        <img src="https://images.squarespace-cdn.com/content/v1/66d829452bae803f6b32068e/a702071a-6dff-400c-85e8-78c532c17199/MasiaCanPares_guesthouse" alt="Casa Blanca">
                    </div>
                    <div class="house-card__content">
                        <h3 class="house-card__name">Casa Blanca</h3>
                        <p class="house-card__desc">Modern comfort meets Catalan heritage in our larger guest house. Bright, airy spaces with contemporary design elements that blend seamlessly with traditional architecture.</p>
                        <div class="house-card__stats">
                            <div class="house-card__stat">
                                <div class="house-card__stat-value">3</div>
                                <div class="house-card__stat-label">Bedrooms</div>
                            </div>
                            <div class="house-card__stat">
                                <div class="house-card__stat-value">3</div>
                                <div class="house-card__stat-label">Bathrooms</div>
                            </div>
                            <div class="house-card__stat">
                                <div class="house-card__stat-value">6</div>
                                <div class="house-card__stat-label">Guests</div>
                            </div>
                        </div>
                        <a href="stay.html" class="house-card__btn">View Details →</a>
                    </div>
                </div>
                <div class="house-card">
                    <div class="house-card__image">
                        <img src="https://images.squarespace-cdn.com/content/v1/66d829452bae803f6b32068e/c6e92c7a-69b9-4fca-8290-96b92b4d05d5/MasiaCanPares_guesthouse" alt="Casa Mediterranea">
                    </div>
                    <div class="house-card__content">
                        <h3 class="house-card__name">Casa Mediterranea</h3>
                        <p class="house-card__desc">Rustic charm in our intimate cottage. Exposed stone walls, wooden beams, and cozy spaces create an authentic Catalan atmosphere perfect for couples or small families.</p>
                        <div class="house-card__stats">
                            <div class="house-card__stat">
                                <div class="house-card__stat-value">2</div>
                                <div class="house-card__stat-label">Bedrooms</div>
                            </div>
                            <div class="house-card__stat">
                                <div class="house-card__stat-value">1</div>
                                <div class="house-card__stat-label">Bathroom</div>
                            </div>
                            <div class="house-card__stat">
                                <div class="house-card__stat-value">4</div>
                                <div class="house-card__stat-label">Guests</div>
                            </div>
                        </div>
                        <a href="stay.html" class="house-card__btn">View Details →</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Designed For Section -->
    <section class="designed-for">
        <div class="container">
            <div class="designed-for__header">
                <h2>Perfect For</h2>
                <h3>Designed For Every Occasion</h3>
            </div>
            <div class="designed-for__grid">
                <div class="use-card">
                    <div class="use-card__icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                    </div>
                    <h3 class="use-card__title">Family Time</h3>
                    <p class="use-card__desc">Create memories in a setting that delights all ages</p>
                </div>
                <div class="use-card">
                    <div class="use-card__icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/></svg>
                    </div>
                    <h3 class="use-card__title">Wellness</h3>
                    <p class="use-card__desc">Yoga, meditation & rejuvenation in nature</p>
                </div>
                <div class="use-card">
                    <div class="use-card__icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
                    </div>
                    <h3 class="use-card__title">Corporate</h3>
                    <p class="use-card__desc">Inspiring offsites & team retreats</p>
                </div>
                <div class="use-card">
                    <div class="use-card__icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/></svg>
                    </div>
                    <h3 class="use-card__title">Artists</h3>
                    <p class="use-card__desc">Creative residencies & inspiration</p>
                </div>
                <div class="use-card">
                    <div class="use-card__icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
                    </div>
                    <h3 class="use-card__title">Productions</h3>
                    <p class="use-card__desc">Film, photo & content shoots</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Founders Section -->
    <section class="founders">
        <div class="container">
            <div class="founders__grid">
                <div class="founders__image">
                    <img src="https://www.clubhouse27.com/wp-content/uploads/2023/11/des_1.jpg" alt="Caroline, Martin & Romy">
                </div>
                <div class="founders__content">
                    <h2>Meet Your Hosts</h2>
                    <h3>Three Free Spirits Full of Joy</h3>
                    <p class="founders__text">Caroline is an interior stylist and founder of Bohnie, a sustainable fashion brand. Martin is a musician and founder of Le Petit Ballon, a leading wine subscription service in France.</p>
                    <p class="founders__text">Together with their daughter Romy, they discovered Can Pares and fell in love with its history, its gardens, and its potential to become a place where others could experience the same magic they felt.</p>
                    <p class="founders__text">Their vision: create a sanctuary where creativity, nature, and Mediterranean living come together in perfect harmony.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="cta">
        <div class="container">
            <h2>Ready to Escape?</h2>
            <h3>Book Your Stay</h3>
            <p>Check availability and reserve your private retreat in the heart of Catalonia.</p>
            <button onclick="openBookingModal()" class="cta__btn">Check Availability</button>
        </div>
    </section>

    <!-- Newsletter -->
    <section class="newsletter">
        <div class="container">
            <div class="newsletter__inner">
                <h2 class="newsletter__title">Stay Inspired</h2>
                <p class="newsletter__text">Subscribe to receive exclusive offers, local tips, and updates from Masia Can Pares.</p>
                <form class="newsletter__form" id="newsletter-form" onsubmit="subscribeNewsletter(event)">
                    <input type="email" class="newsletter__input" id="newsletter-email" placeholder="Enter your email" required>
                    <button type="submit" class="newsletter__btn" id="newsletter-btn">Subscribe</button>
                </form>
                <p class="newsletter__success" id="newsletter-success">✓ Thank you for subscribing!</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__inner">
                <a href="index.html" class="footer__logo"><img src="https://images.squarespace-cdn.com/content/v1/66d829452bae803f6b32068e/8fb7c7fc-6e43-406c-b1c0-a65a59062cf6/CanPares_2-01.png?format=500w" alt="Can Pares"></a>
                <div class="footer__links">
                    <a href="https://www.masiacanpares.com/contact" class="footer__link">Contact</a>
                    <a href="host.html" class="footer__link">Host</a>
                </div>
                <p class="footer__address">Masia Can Pares, 08810 Sant Pere de Ribes, Espana</p>
            </div>
        </div>
    </footer>

    <!-- Floating CTA (Mobile) -->
    <div class="floating-cta">
        <button class="floating-cta__btn" onclick="openBookingModal()">Select Dates</button>
    </div>

    <!-- Booking Modal -->
    <div class="booking-modal" id="booking-modal">
        <div class="booking-modal__content">
            <div class="booking-modal__header">
                <span class="booking-modal__title">Book Your Stay</span>
                <button class="booking-modal__close" onclick="closeBookingModal()">&times;</button>
            </div>
            <div class="booking-modal__tabs">
                <button class="booking-modal__tab active" onclick="switchProperty(306071, this)">Casa Blanca</button>
                <button class="booking-modal__tab" onclick="switchProperty(306072, this)">Casa Mediterranea</button>
            </div>
            <div class="booking-modal__body">
                <div class="booking-modal__loading" id="booking-loading">Loading calendar...</div>
                <iframe class="booking-modal__iframe" id="booking-iframe" style="display:none;"></iframe>
            </div>
        </div>
    </div>

    <script>
        // Slideshow
        const slides = document.querySelectorAll('.hero__slide');
        let current = 0;
        setInterval(() => {
            slides[current].classList.remove('active');
            current = (current + 1) % slides.length;
            slides[current].classList.add('active');
        }, 5000);

        // Mobile Menu Toggle
        const menuBtn = document.getElementById('menuBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        
        menuBtn.addEventListener('click', () => {
            menuBtn.classList.toggle('active');
            mobileMenu.classList.toggle('active');
            document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';
        });

        // Close menu when clicking a link
        document.querySelectorAll('.mobile-menu__link').forEach(link => {
            link.addEventListener('click', () => {
                menuBtn.classList.remove('active');
                mobileMenu.classList.remove('active');
                document.body.style.overflow = '';
            });
        });

        function closeMobileMenu() {
            menuBtn.classList.remove('active');
            mobileMenu.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Booking Modal Functions
        const BEDS24_PROPERTIES = {
            306071: 'Casa Blanca',
            306072: 'Casa Mediterranea'
        };
        let currentPropertyId = 306071;

        function openBookingModal() {
            const modal = document.getElementById('booking-modal');
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            loadBookingWidget(currentPropertyId);
        }

        function closeBookingModal() {
            const modal = document.getElementById('booking-modal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        function switchProperty(propertyId, btn) {
            currentPropertyId = propertyId;
            
            // Update tabs
            document.querySelectorAll('.booking-modal__tab').forEach(tab => tab.classList.remove('active'));
            btn.classList.add('active');
            
            // Load new widget
            loadBookingWidget(propertyId);
        }

        function loadBookingWidget(propertyId) {
            const iframe = document.getElementById('booking-iframe');
            const loading = document.getElementById('booking-loading');
            
            // Show loading
            loading.style.display = 'flex';
            iframe.style.display = 'none';
            
            // Beds24 booking widget URL
            iframe.src = `https://beds24.com/booking2.php?propid=${propertyId}&layout=1`;
            
            iframe.onload = function() {
                loading.style.display = 'none';
                iframe.style.display = 'block';
            };
        }

        // Close modal on outside click
        document.getElementById('booking-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeBookingModal();
            }
        });

        // Close modal on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeBookingModal();
            }
        });
    </script>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script>
        // Firebase config
        const firebaseConfig = {
            apiKey: "AIzaSyABLh-XhqgMT4AKJA5tQdU-2LlVHBhJz6s",
            authDomain: "masia-can-pares.firebaseapp.com",
            projectId: "masia-can-pares",
            storageBucket: "masia-can-pares.firebasestorage.app",
            messagingSenderId: "762963561502",
            appId: "1:762963561502:web:3e982f586bb4cd01a12297"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Newsletter subscription
        async function subscribeNewsletter(e) {
            e.preventDefault();
            
            const email = document.getElementById('newsletter-email').value;
            const btn = document.getElementById('newsletter-btn');
            const successMsg = document.getElementById('newsletter-success');
            
            btn.disabled = true;
            btn.textContent = 'Subscribing...';
            
            try {
                // Check if already subscribed
                const existing = await db.collection('newsletter').where('email', '==', email).get();
                
                if (existing.empty) {
                    // Add to Firebase
                    await db.collection('newsletter').add({
                        email: email,
                        subscribedAt: firebase.firestore.FieldValue.serverTimestamp(),
                        source: 'website'
                    });
                }
                
                // Show success
                document.getElementById('newsletter-email').value = '';
                successMsg.classList.add('show');
                btn.textContent = 'Subscribed!';
                
                setTimeout(() => {
                    btn.textContent = 'Subscribe';
                    btn.disabled = false;
                }, 3000);
                
            } catch (error) {
                console.error('Newsletter error:', error);
                btn.textContent = 'Try Again';
                btn.disabled = false;
            }
        }
    </script>
</body>
</html>
